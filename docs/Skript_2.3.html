<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Cornelius Puschmann">

<title>Der ALLBUS Datensatz</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Bilder/favicon-32x32.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Der ALLBUS Datensatz">
<meta property="og:description" content="">
<meta property="og:image" content="https://github.com/patrickzerrer/R_Hands_on_Book/Bilder/zemkipatrick_comic_style_a_truck_leaving_a_warehouse_cyberpunk__4c152b14-f4a7-4a08-8222-ce07ba126eaf.png">
<meta property="og:image:height" content="644">
<meta property="og:image:width" content="1149">
<meta name="twitter:title" content="Der ALLBUS Datensatz">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://github.com/patrickzerrer/R_Hands_on_Book/Bilder/zemkipatrick_comic_style_a_truck_leaving_a_warehouse_cyberpunk__4c152b14-f4a7-4a08-8222-ce07ba126eaf.png">
<meta name="twitter:image-height" content="644">
<meta name="twitter:image-width" content="1149">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./Bilder/logo_ub_2021.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./Home.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./Skript_1.1.html" rel="" target="" aria-current="page">
 <span class="menu-text">Der Kurs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Hintergrund.html" rel="" target="">
 <span class="menu-text">Die Grundidee</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Autoren.html" rel="" target="">
 <span class="menu-text">Die Autor:innen</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/patrickzerrer/R_Hands_on_Book" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Skript_2.1.html">Data-Bootcamp: Datensätze</a></li><li class="breadcrumb-item"><a href="./Skript_2.3.html">Der ALLBUS Datensatz</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Data-Bootcamp: Einführung in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_1.1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Einführung in R und RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_1.3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Die Logik von Markdown und Quarto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_1.4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vorbereiten der R-Umgebung</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Data-Bootcamp: Datensätze</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_2.1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Der Aufbau von Datensätzen</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_2.2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Einlesen von Datensätzen in unterschiedlichen Formaten</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_2.3.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Der ALLBUS Datensatz</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Data-Bootcamp: Der Umgang mit Daten</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_3.1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Die Kunst vom Umgang mit Daten</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_3.2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datentypen und -strukturen</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_3.3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Selektion, Manipulation und Transformation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_3.4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tabellen und Grafiken in R</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Die ersten Schritte bei der Datenanalyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_4.1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Häufigkeiten und deren Visualisierung</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_4.2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lageparameter: Modus, Median, Mittelwert</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_4.3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Streuungsmaße: Spannweite, Quartilsabstand, Standartabweichung, Varianz</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_4.4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Berechnung und Interpretation von Verteilungen</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Von einzelnen Antworten zum Index</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_5.1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Die Messung von latenten Variablen</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_5.2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Die Faktorenanalyse</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_5.3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reliabilität von Skalen</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Das Überprüfen von Unterschieden</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_6.1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bivariate Statistik &amp; Mittelwertvergleiche</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_6.2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bestimmen von Unterschieden in der Varianz mit Kreuztabellen und dem Chi-Quadrat Test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_6.3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Die Bestimmung der Zentrale Tendenz mittels t-Tests</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_6.4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Die Varianzanalyse</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">Das Überprüfen von Zusammenhängen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_7.1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pearson Chi-Quadrat-Test &amp; Rangkorrelation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_7.2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Korrelation &amp; Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_7.3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prüfung der Voraussetzungen bei der linearen Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Skript_7.4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Die multiple Regression</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-management-einlesen-des-allbus" id="toc-data-management-einlesen-des-allbus" class="nav-link active" data-scroll-target="#data-management-einlesen-des-allbus"><span class="header-section-number">1</span> Data Management &amp; Einlesen des ALLBUS</a></li>
  <li><a href="#erste-schritte-mit-dem-allbus" id="toc-erste-schritte-mit-dem-allbus" class="nav-link" data-scroll-target="#erste-schritte-mit-dem-allbus"><span class="header-section-number">2</span> Erste Schritte mit dem ALLBUS</a></li>
  <li><a href="#einen-überblick-über-den-allbus-gewinnen" id="toc-einen-überblick-über-den-allbus-gewinnen" class="nav-link" data-scroll-target="#einen-überblick-über-den-allbus-gewinnen"><span class="header-section-number">3</span> Einen Überblick über den ALLBUS gewinnen</a></li>
  <li><a href="#die-variablen-des-allbus" id="toc-die-variablen-des-allbus" class="nav-link" data-scroll-target="#die-variablen-des-allbus"><span class="header-section-number">4</span> Die Variablen des ALLBUS</a></li>
  <li><a href="#bildung-eines-teilsamples" id="toc-bildung-eines-teilsamples" class="nav-link" data-scroll-target="#bildung-eines-teilsamples"><span class="header-section-number">5</span> Bildung eines Teilsamples</a></li>
  <li><a href="#zusammenfassung" id="toc-zusammenfassung" class="nav-link" data-scroll-target="#zusammenfassung"><span class="header-section-number">6</span> Zusammenfassung</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Der ALLBUS Datensatz</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Cornelius Puschmann </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Bilder/zemkipatrick_comic_style_a_truck_leaving_a_warehouse_cyberpunk__4c152b14-f4a7-4a08-8222-ce07ba126eaf.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Wir haben unsere Daten, Bild generiert von Midjourney</figcaption>
</figure>
</div>
<p>Die Allgemeine Bevölkerungsumfrage der Sozialwissenschaften (ALLBUS) ist eine standardisierte Befragung der deutschen Bevölkerung, die seit 1980 regelmäßig durch das GESIS Leibniz Institut für Sozialforschung durchgeführt wird. Im ALLBUS werden in der Regel alle zwei Jahre Daten über Einstellungen, Verhaltensweisen und Sozialstruktur der Bevölkerung in der Bundesrepublik Deutschland gesammelt. Dafür wird in persönlichen Interviews jeweils eine repräsentative Stichprobe aus der Bevölkerung Deutschlands befragt (jeweils ca. 2.800 bis 3.500 Befragte).</p>
<p>Abgefragt werden u.a. Einschätzungen und Einstellungen in den Bereichen:</p>
<p>- Wirtschaft</p>
<p>- Umwelt</p>
<p>- Immigration</p>
<p>- Politische Einstellungen und Partizipation</p>
<p>- Mediennutzung</p>
<p>- Einstellungen zu Ehe, Familie und Partnerschaft</p>
<p>- Einstellungen zu und Kontakte mit Behörden</p>
<p>- Freizeitaktivitäten</p>
<p>- Gesundheit und gesundheitsrelevantes Verhalten</p>
<p>Folgend arbeiten wir im Rahmen dieses Moduls durchgängig mit dem ALLBUS, speziell mit der Erhebnungswelle des Jahres 2021.</p>
<section id="data-management-einlesen-des-allbus" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Data Management &amp; Einlesen des ALLBUS</h1>
<p>Wir beginnen damit, die notwendigen Pakete zu laden, die wir für die ersten Schritte mit den Daten benötigen. Das sind hier die Pakete haven (für das Einlesen der ALLBUS-Daten im Stata-Format) und das Pakete readr (für das Einlesen einiger Vorab vorbereiteter Samples aus dem Gesamtdatensatz), sowie das Paket dplyr, mit dem wir am Schluss einen Beispielhaften Teildatensatz bilden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) {<span class="fu">install.packages</span>(<span class="st">"pacman"</span>);<span class="fu">library</span>(pacman)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Lade nötiges Paket: pacman</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Paket 'pacman' wurde unter R Version 4.3.1 erstellt</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">p_load</span>(haven, readr, dplyr)</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nun lesen wir den ALLBUS-Datensatz mittels der Stata-Importfunktion <code>read_dta</code> aus dem Paket <code>haven</code> ein.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>daten <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"Datensatz/Allbus_2021.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Als nächstes laden wir zudem noch drei zuvor erstellte Zufallssamples im Umfang von 20, 200 und 500 Zeilen aus dem Gesamtdatensatz. Diese enthalten weiterhin eine deutlich kleinere Anzahl relevanter Variablen und sind daher etwas übersichtlicher als der sehr große Hauptdatensatz.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>sample_klein <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"Datensatz/ALLBUS_sample_klein.rds"</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a>sample_mittel <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"Datensatz/ALLBUS_sample_mittel.rds"</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a>sample_gross <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"Datensatz/ALLBUS_sample_gross.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="erste-schritte-mit-dem-allbus" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Erste Schritte mit dem ALLBUS</h1>
<p>Zunächst schauen wir uns die Daten an. Dies geschieht entweder daturch, dass man den Objektnamen verwendet (also im folgende Beispiel einfach sample_klein) oder indem man mit einem Klick in RStudio unter dem Reiter Environment oder mit dem Befehl <code>View()</code> aufruft. Bei diesem Vorgehen zeigt RStudio die Daten an, was i.d.R. den praktischsten Zugang darstellt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>sample_klein</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 4
   alter geschlecht bildung            fernsehkonsum
   &lt;dbl&gt; &lt;fct&gt;      &lt;fct&gt;                      &lt;dbl&gt;
 1    37 MANN       FACHHOCHSCHULREIFE             3
 2    38 MANN       MITTLERE REIFE                 7
 3    47 FRAU       VOLKS-,HAUPTSCHULE             6
 4    66 MANN       HOCHSCHULREIFE                 2
 5    47 FRAU       HOCHSCHULREIFE                 7
 6    75 MANN       VOLKS-,HAUPTSCHULE             7
 7    41 FRAU       MITTLERE REIFE                 4
 8    18 MANN       NOCH SCHUELER                  7
 9    91 MANN       &lt;NA&gt;                          NA
10    56 MANN       HOCHSCHULREIFE                 4
11    58 MANN       HOCHSCHULREIFE                 7
12    32 MANN       MITTLERE REIFE                 2
13    47 MANN       FACHHOCHSCHULREIFE             1
14    49 MANN       MITTLERE REIFE                 1
15    23 MANN       MITTLERE REIFE                 0
16    48 FRAU       MITTLERE REIFE                 0
17    49 MANN       HOCHSCHULREIFE                 0
18    36 MANN       FACHHOCHSCHULREIFE             7
19    70 MANN       HOCHSCHULREIFE                 7
20    43 FRAU       MITTLERE REIFE                 7</code></pre>
</div>
</div>
<p>Der kleine Beispieldatensatz illustriert den grundlegeenden Aufbau des ALLBUS. Dieser folgt (beim ALLBUS, aber auch den meisten anderen Befragungen) den folgenden Prinzipien</p>
<ul>
<li><p>jede Befragungswelle ist ein einzeles Data Frame-Objekt (= eine große Tabelle)</p></li>
<li><p>die Zeilen der Tabelle sind die Beobachtungen (= RespondentInnen)</p></li>
<li><p>die Spalten der Tabelle sind die Variablen (= Antworten auf Survey-Fragen, oder bei der Möglichkeit zur Mehrfachnennung, die einzelnen Antwort<em>optionen</em>)</p></li>
<li><p>die Zelleninhalte sind i.d.R. (Dummy)Zahlenwerte (= etwa “1” für wenig Zustimmung und “5” für hohe Zustimmung)</p></li>
</ul>
</section>
<section id="einen-überblick-über-den-allbus-gewinnen" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Einen Überblick über den ALLBUS gewinnen</h1>
<p>Im Beispieldatensatz sind die Werte der Variablen <em>alter</em>, <em>geschlecht</em> und <em>bildung</em> recht leicht nachvollziebar, wobei sie etwas unterschiedliche Datentypen aufweisen, wie man mit Hilfe der Funktion <code>str</code> ermitteln kann.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">str</span>(sample_klein)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [20 × 4] (S3: tbl_df/tbl/data.frame)
 $ alter        : num [1:20] 37 38 47 66 47 75 41 18 91 56 ...
 $ geschlecht   : Factor w/ 4 levels "KEINE ANGABE",..: 2 2 3 2 3 2 3 2 2 2 ...
 $ bildung      : Factor w/ 9 levels "NICHT BESTIMMBAR",..: 6 5 4 7 7 4 5 9 NA 7 ...
 $ fernsehkonsum: num [1:20] 3 7 6 2 7 7 4 7 NA 4 ...</code></pre>
</div>
</div>
<p>Bei der Variable <em>alter</em> handelt es sich schlicht um eine Zahl (num), während <em>geschlecht</em> und <em>bildung</em> sogenannte Faktoren sind. Faktoren nutzt man in R, um wiederholende nicht numerische (typischerweise nominal oder ordinalskalierte) Werte zu speichern. Praktisch jeder Faktor könnte genausogut eine Zeichenkette (chr) sein, aber oftmals sind Faktoren praktischer, weil sie eine festen Reihenfolge haben können (“ranked factors”), die sich bei Bedarf auch in Zahlen umwandel lassen. Im konkreten Beispiel ist das Geschlecht ein ungerankter Faktor, der Bildungsgrad hat hingegen einen Rang. Der Fernsehkonsum ist schließlich eine Likert-skalierte Variable, die wir hier und auch an anderer Stelle als metrische Variable behandeln (und dafür den R-Datentypen numeric verwenden), auch wenn das strikt genommen nicht immer zulässig ist – zumindest dann nicht, wenn man nur auf Grundlage eines einzelnen Items misst und eine 5- oder 7-Punkt Skala verwendet (vgl etwa <a href="https://doi.org/10.1080/01488376.2017.1329775" class="uri">https://doi.org/10.1080/01488376.2017.1329775</a>).</p>
<p>Wie sehen die anderen Samples aus? Wir sehen uns im nächsten Schritt das große Zufallssample (500 Fälle) an.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>sample_gross</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 500 × 29
   alter geschlecht fernsehkonsum politisches_interesse links_rechts_einordnung
   &lt;dbl&gt; &lt;fct&gt;              &lt;dbl&gt; &lt;fct&gt;                                   &lt;dbl&gt;
 1    50 FRAU                   7 MITTEL                                      5
 2    77 MANN                   7 STARK                                       3
 3    64 FRAU                   7 &lt;NA&gt;                                        5
 4    53 MANN                  NA UEBERHAUPT NICHT                            8
 5    29 MANN                   0 SEHR STARK                                  2
 6    44 FRAU                   3 MITTEL                                      7
 7    79 MANN                   5 MITTEL                                      4
 8    32 MANN                   7 MITTEL                                      5
 9    36 FRAU                   0 STARK                                       6
10    66 MANN                   7 STARK                                       3
# ℹ 490 more rows
# ℹ 24 more variables: wahlabsicht_partei &lt;fct&gt;,
#   zufriedenheit_demokratie &lt;fct&gt;, entwicklung_kriminalitaet &lt;fct&gt;,
#   social_media_nachrichtenquelle &lt;dbl&gt;, glaubwuerdigkeit_oer_tv &lt;fct&gt;,
#   glaubwuerdigkeit_privat_tv &lt;fct&gt;, glaubwuerdigkeit_zeitungen &lt;fct&gt;,
#   glaubwuerdigkeit_social_media &lt;fct&gt;, vertrauen_mitmenschen &lt;dbl&gt;,
#   vertrauen_gesundheitswesen &lt;dbl&gt;, …</code></pre>
</div>
</div>
<p>Da wir es jetzt mit einer größeren Zahl an Beobachtungen and Variablen zu tun haben kann es nützlich sein, sich einen Überblick zu verschaffen.</p>
<p>Zunächst lassen wir uns die Variablennamen (also die Spalten) ausgeben. Dies geschieht mit der Funktion <code>colnames</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">colnames</span>(sample_gross)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "alter"                              "geschlecht"                        
 [3] "fernsehkonsum"                      "politisches_interesse"             
 [5] "links_rechts_einordnung"            "wahlabsicht_partei"                
 [7] "zufriedenheit_demokratie"           "entwicklung_kriminalitaet"         
 [9] "social_media_nachrichtenquelle"     "glaubwuerdigkeit_oer_tv"           
[11] "glaubwuerdigkeit_privat_tv"         "glaubwuerdigkeit_zeitungen"        
[13] "glaubwuerdigkeit_social_media"      "vertrauen_mitmenschen"             
[15] "vertrauen_gesundheitswesen"         "vertrauen_bundesverfassungsgericht"
[17] "vertrauen_bundestag"                "vertrauen_stadt_gemeindeverwaltung"
[19] "vertrauen_katholische_kirche"       "vertrauen_evangelische_kirche"     
[21] "vertrauen_justiz"                   "vertrauen_fernsehen"               
[23] "vertrauen_zeitungswesen"            "vertrauen_hochschulen"             
[25] "vertrauen_bundesregierung"          "vertrauen_polizei"                 
[27] "vertrauen_parteien"                 "vertrauen_eu_kommission"           
[29] "vertrauen_eu_parlament"            </code></pre>
</div>
</div>
<p>Eine etwas detailliertere Beschreibung erhalten wir durch die Funktion <code>str</code>. Diese liefert uns auch die Dimensionen (Anzahl der Zeilen und Spalten) des Data Frames, sowie die Variablen, deren Datentyp und die ersten zehn Ausprägungen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">str</span>(sample_gross)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [500 × 29] (S3: tbl_df/tbl/data.frame)
 $ alter                             : num [1:500] 50 77 64 53 29 44 79 32 36 66 ...
 $ geschlecht                        : Factor w/ 4 levels "KEINE ANGABE",..: 3 2 3 2 2 3 2 2 3 2 ...
 $ fernsehkonsum                     : num [1:500] 7 7 7 NA 0 3 5 7 0 7 ...
 $ politisches_interesse             : Factor w/ 7 levels "DATENFEHLER: MFN",..: 5 4 NA 7 3 5 5 5 4 4 ...
 $ links_rechts_einordnung           : num [1:500] 5 3 5 8 2 7 4 5 6 3 ...
 $ wahlabsicht_partei                : Factor w/ 13 levels "NICHT WAHLBERECHTIGT",..: NA 9 NA 13 10 NA 11 6 NA 9 ...
 $ zufriedenheit_demokratie          : Factor w/ 10 levels "DATENFEHLER: MFN",..: 5 6 7 8 6 5 8 NA NA 6 ...
 $ entwicklung_kriminalitaet         : Factor w/ 8 levels "DATENFEHLER: MFN",..: 6 5 4 4 6 5 5 5 NA 6 ...
 $ social_media_nachrichtenquelle    : num [1:500] 0 7 0 7 7 6 0 7 NA 0 ...
 $ glaubwuerdigkeit_oer_tv           : Factor w/ 7 levels "DATENFEHLER: MFN",..: 4 4 5 5 4 NA 5 5 5 5 ...
 $ glaubwuerdigkeit_privat_tv        : Factor w/ 7 levels "DATENFEHLER: MFN",..: 5 NA 5 5 5 NA 6 5 6 NA ...
 $ glaubwuerdigkeit_zeitungen        : Factor w/ 7 levels "DATENFEHLER: MFN",..: 5 4 5 5 5 NA 7 5 4 4 ...
 $ glaubwuerdigkeit_social_media     : Factor w/ 7 levels "DATENFEHLER: MFN",..: 6 5 NA 5 6 4 NA 6 6 NA ...
 $ vertrauen_mitmenschen             : num [1:500] 3 3 3 2 3 3 2 NA 3 3 ...
 $ vertrauen_gesundheitswesen        : num [1:500] 6 6 5 7 6 5 5 NA 5 5 ...
 $ vertrauen_bundesverfassungsgericht: num [1:500] 6 6 4 1 6 6 2 NA 5 5 ...
 $ vertrauen_bundestag               : num [1:500] 5 5 5 1 2 7 1 NA 5 4 ...
 $ vertrauen_stadt_gemeindeverwaltung: num [1:500] 5 5 5 1 5 6 4 NA 5 3 ...
 $ vertrauen_katholische_kirche      : num [1:500] 2 1 1 1 2 5 1 NA 2 1 ...
 $ vertrauen_evangelische_kirche     : num [1:500] 3 3 1 1 4 2 1 NA 2 2 ...
 $ vertrauen_justiz                  : num [1:500] 5 3 3 4 4 1 3 NA 4 4 ...
 $ vertrauen_fernsehen               : num [1:500] 4 6 3 3 3 6 1 NA 4 4 ...
 $ vertrauen_zeitungswesen           : num [1:500] 4 6 3 3 3 6 1 NA 4 4 ...
 $ vertrauen_hochschulen             : num [1:500] 5 6 5 1 6 7 3 NA 5 5 ...
 $ vertrauen_bundesregierung         : num [1:500] 5 5 5 1 3 7 1 NA 5 4 ...
 $ vertrauen_polizei                 : num [1:500] 5 5 4 5 4 7 3 NA 5 4 ...
 $ vertrauen_parteien                : num [1:500] 4 4 3 1 3 4 1 NA 2 3 ...
 $ vertrauen_eu_kommission           : num [1:500] 5 5 3 1 3 5 3 NA 4 4 ...
 $ vertrauen_eu_parlament            : num [1:500] 5 5 3 1 3 6 3 NA 4 4 ...</code></pre>
</div>
</div>
<p>Eine alternative (aber etwas ordentlichere) Ansicht erhält man mit dem Befehl <code>glimpse</code> aus dem Paket <code>tibble</code> (im tidyverse enthalten).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>tibble<span class="sc">::</span><span class="fu">glimpse</span>(sample_gross)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 500
Columns: 29
$ alter                              &lt;dbl&gt; 50, 77, 64, 53, 29, 44, 79, 32, 36,…
$ geschlecht                         &lt;fct&gt; FRAU, MANN, FRAU, MANN, MANN, FRAU,…
$ fernsehkonsum                      &lt;dbl&gt; 7, 7, 7, NA, 0, 3, 5, 7, 0, 7, 7, 7…
$ politisches_interesse              &lt;fct&gt; MITTEL, STARK, NA, UEBERHAUPT NICHT…
$ links_rechts_einordnung            &lt;dbl&gt; 5, 3, 5, 8, 2, 7, 4, 5, 6, 3, 4, 7,…
$ wahlabsicht_partei                 &lt;fct&gt; NA, DIE GRUENEN, NA, WUERDE NICHT W…
$ zufriedenheit_demokratie           &lt;fct&gt; SEHR ZUFRIEDEN, ZIEMLICH ZUFRIEDEN,…
$ entwicklung_kriminalitaet          &lt;fct&gt; IST GLEICH GEBLIEBEN, HAT ETWAS ZUG…
$ social_media_nachrichtenquelle     &lt;dbl&gt; 0, 7, 0, 7, 7, 6, 0, 7, NA, 0, 0, N…
$ glaubwuerdigkeit_oer_tv            &lt;fct&gt; SEHR GLAUBWUERDIG, SEHR GLAUBWUERDI…
$ glaubwuerdigkeit_privat_tv         &lt;fct&gt; EHER GLAUBWUERDIG, NA, EHER GLAUBWU…
$ glaubwuerdigkeit_zeitungen         &lt;fct&gt; EHER GLAUBWUERDIG, SEHR GLAUBWUERDI…
$ glaubwuerdigkeit_social_media      &lt;fct&gt; EHER N. GLAUBWUERDIG, EHER GLAUBWUE…
$ vertrauen_mitmenschen              &lt;dbl&gt; 3, 3, 3, 2, 3, 3, 2, NA, 3, 3, 1, 3…
$ vertrauen_gesundheitswesen         &lt;dbl&gt; 6, 6, 5, 7, 6, 5, 5, NA, 5, 5, 3, N…
$ vertrauen_bundesverfassungsgericht &lt;dbl&gt; 6, 6, 4, 1, 6, 6, 2, NA, 5, 5, 7, N…
$ vertrauen_bundestag                &lt;dbl&gt; 5, 5, 5, 1, 2, 7, 1, NA, 5, 4, 4, N…
$ vertrauen_stadt_gemeindeverwaltung &lt;dbl&gt; 5, 5, 5, 1, 5, 6, 4, NA, 5, 3, 5, N…
$ vertrauen_katholische_kirche       &lt;dbl&gt; 2, 1, 1, 1, 2, 5, 1, NA, 2, 1, 1, N…
$ vertrauen_evangelische_kirche      &lt;dbl&gt; 3, 3, 1, 1, 4, 2, 1, NA, 2, 2, 4, N…
$ vertrauen_justiz                   &lt;dbl&gt; 5, 3, 3, 4, 4, 1, 3, NA, 4, 4, 5, N…
$ vertrauen_fernsehen                &lt;dbl&gt; 4, 6, 3, 3, 3, 6, 1, NA, 4, 4, 5, N…
$ vertrauen_zeitungswesen            &lt;dbl&gt; 4, 6, 3, 3, 3, 6, 1, NA, 4, 4, 6, N…
$ vertrauen_hochschulen              &lt;dbl&gt; 5, 6, 5, 1, 6, 7, 3, NA, 5, 5, 6, N…
$ vertrauen_bundesregierung          &lt;dbl&gt; 5, 5, 5, 1, 3, 7, 1, NA, 5, 4, 2, N…
$ vertrauen_polizei                  &lt;dbl&gt; 5, 5, 4, 5, 4, 7, 3, NA, 5, 4, 6, N…
$ vertrauen_parteien                 &lt;dbl&gt; 4, 4, 3, 1, 3, 4, 1, NA, 2, 3, 2, N…
$ vertrauen_eu_kommission            &lt;dbl&gt; 5, 5, 3, 1, 3, 5, 3, NA, 4, 4, 2, N…
$ vertrauen_eu_parlament             &lt;dbl&gt; 5, 5, 3, 1, 3, 6, 3, NA, 4, 4, 2, N…</code></pre>
</div>
</div>
<p>Die hier verwendete Syntax PAKETNAME::FUNKTION ist vielleicht zunächst etwas irritierend. Mit ihr rufen wir ein Paket auf, welches wir nicht vorher geladen haben. Das ist mitunter nützlich und kommt hier zur Anwendung, weil wir das Paket <code>tibble</code> hier ansonsten nicht benutzen.</p>
<p>Schließlich lassen sich mit dem Befehle <code>summary</code> auch noch Eckwerte wie die Ausprägung von Faktorenstufen (bei Faktoren) oder Lageparameter (bei metrischen Variable) ermitteln.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">summary</span>(sample_gross)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     alter              geschlecht  fernsehkonsum        politisches_interesse
 Min.   :18.00   KEINE ANGABE:  0   Min.   :0.000   MITTEL          :231      
 1st Qu.:38.00   MANN        :245   1st Qu.:4.000   STARK           :138      
 Median :56.00   FRAU        :254   Median :7.000   WENIG           : 58      
 Mean   :53.78   DIVERS      :  1   Mean   :5.305   SEHR STARK      : 53      
 3rd Qu.:68.00                      3rd Qu.:7.000   UEBERHAUPT NICHT: 17      
 Max.   :93.00                      Max.   :7.000   (Other)         :  0      
 NA's   :3                          NA's   :8       NA's            :  3      
 links_rechts_einordnung   wahlabsicht_partei       zufriedenheit_demokratie
 Min.   : 1.000          CDU-CSU    : 97      ZIEMLICH ZUFRIEDEN:151        
 1st Qu.: 4.000          DIE GRUENEN: 89      ETWAS ZUFRIEDEN   : 63        
 Median : 5.000          SPD        : 51      ETWAS UNZUFRIEDEN : 46        
 Mean   : 4.935          FDP        : 50      SEHR ZUFRIEDEN    : 32        
 3rd Qu.: 6.000          AFD        : 33      ZIEML. UNZUFRIEDEN: 25        
 Max.   :10.000          (Other)    : 56      (Other)           :  3        
 NA's   :23              NA's       :124      NA's              :180        
        entwicklung_kriminalitaet social_media_nachrichtenquelle
 HAT ETWAS ZUGENOMMEN:168         Min.   :0.000                 
 HAT STARK ZUGENOMMEN:163         1st Qu.:0.000                 
 IST GLEICH GEBLIEBEN:118         Median :1.000                 
 HAT ETWAS ABGENOMMEN: 34         Mean   :2.921                 
 HAT STARK ABGENOMMEN:  3         3rd Qu.:7.000                 
 (Other)             :  0         Max.   :7.000                 
 NA's                : 14         NA's   :45                    
         glaubwuerdigkeit_oer_tv        glaubwuerdigkeit_privat_tv
 EHER GLAUBWUERDIG   :233        EHER GLAUBWUERDIG   :232         
 SEHR GLAUBWUERDIG   :177        EHER N. GLAUBWUERDIG:154         
 EHER N. GLAUBWUERDIG: 62        SEHR GLAUBWUERDIG   : 40         
 GAR NICHT GLAUBWUERD: 13        GAR NICHT GLAUBWUERD: 23         
 DATENFEHLER: MFN    :  0        DATENFEHLER: MFN    :  0         
 (Other)             :  0        (Other)             :  0         
 NA's                : 15        NA's                : 51         
        glaubwuerdigkeit_zeitungen      glaubwuerdigkeit_social_media
 EHER GLAUBWUERDIG   :273          EHER N. GLAUBWUERDIG:230          
 SEHR GLAUBWUERDIG   :124          GAR NICHT GLAUBWUERD:109          
 EHER N. GLAUBWUERDIG: 53          EHER GLAUBWUERDIG   : 74          
 GAR NICHT GLAUBWUERD: 11          SEHR GLAUBWUERDIG   : 11          
 DATENFEHLER: MFN    :  0          DATENFEHLER: MFN    :  0          
 (Other)             :  0          (Other)             :  0          
 NA's                : 39          NA's                : 76          
 vertrauen_mitmenschen vertrauen_gesundheitswesen
 Min.   :1.000         Min.   :1.000             
 1st Qu.:2.000         1st Qu.:4.000             
 Median :2.000         Median :5.000             
 Mean   :2.225         Mean   :4.975             
 3rd Qu.:3.000         3rd Qu.:6.000             
 Max.   :3.000         Max.   :7.000             
 NA's   :15            NA's   :175               
 vertrauen_bundesverfassungsgericht vertrauen_bundestag
 Min.   :1.000                      Min.   :1.000      
 1st Qu.:4.000                      1st Qu.:3.000      
 Median :6.000                      Median :4.000      
 Mean   :5.212                      Mean   :4.076      
 3rd Qu.:7.000                      3rd Qu.:5.000      
 Max.   :7.000                      Max.   :7.000      
 NA's   :179                        NA's   :183        
 vertrauen_stadt_gemeindeverwaltung vertrauen_katholische_kirche
 Min.   :1.000                      Min.   :1.000               
 1st Qu.:4.000                      1st Qu.:1.000               
 Median :5.000                      Median :2.000               
 Mean   :4.495                      Mean   :2.259               
 3rd Qu.:5.000                      3rd Qu.:3.000               
 Max.   :7.000                      Max.   :7.000               
 NA's   :177                        NA's   :179                 
 vertrauen_evangelische_kirche vertrauen_justiz vertrauen_fernsehen
 Min.   :1.000                 Min.   :1.000    Min.   :1.000      
 1st Qu.:1.000                 1st Qu.:4.000    1st Qu.:3.000      
 Median :3.000                 Median :5.000    Median :4.000      
 Mean   :3.016                 Mean   :4.567    Mean   :3.642      
 3rd Qu.:4.000                 3rd Qu.:6.000    3rd Qu.:5.000      
 Max.   :7.000                 Max.   :7.000    Max.   :7.000      
 NA's   :182                   NA's   :179      NA's   :176        
 vertrauen_zeitungswesen vertrauen_hochschulen vertrauen_bundesregierung
 Min.   :1.000           Min.   :1.000         Min.   :1.00             
 1st Qu.:3.000           1st Qu.:5.000         1st Qu.:3.00             
 Median :4.000           Median :5.000         Median :4.00             
 Mean   :4.006           Mean   :5.176         Mean   :4.08             
 3rd Qu.:5.000           3rd Qu.:6.000         3rd Qu.:5.00             
 Max.   :7.000           Max.   :7.000         Max.   :7.00             
 NA's   :177             NA's   :177           NA's   :177              
 vertrauen_polizei vertrauen_parteien vertrauen_eu_kommission
 Min.   :1.000     Min.   :1.000      Min.   :1.000          
 1st Qu.:4.000     1st Qu.:2.000      1st Qu.:2.000          
 Median :5.000     Median :3.000      Median :4.000          
 Mean   :4.994     Mean   :3.205      Mean   :3.516          
 3rd Qu.:6.000     3rd Qu.:4.000      3rd Qu.:5.000          
 Max.   :7.000     Max.   :6.000      Max.   :7.000          
 NA's   :177       NA's   :178        NA's   :178            
 vertrauen_eu_parlament
 Min.   :1.000         
 1st Qu.:2.000         
 Median :4.000         
 Mean   :3.575         
 3rd Qu.:5.000         
 Max.   :7.000         
 NA's   :178           </code></pre>
</div>
</div>
<p>Nun schauen wir uns den ALLBUS selbst – also den Gesamtdatensatz – genauer an.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>daten</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,342 × 544
   za_nr           doi   version respid substudy mode    splt21  eastwest german
   &lt;dbl+lbl&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;dbl+lb&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+lb&gt; &lt;dbl+&gt;
 1 5280 [ALLBUS 2… http… 2.0.0 …      1 1 [SIMU… 4 [MAI… 2 [SPL… 1 [ALTE… 1 [JA]
 2 5280 [ALLBUS 2… http… 2.0.0 …      2 1 [SIMU… 4 [MAI… 1 [SPL… 1 [ALTE… 1 [JA]
 3 5280 [ALLBUS 2… http… 2.0.0 …      3 1 [SIMU… 4 [MAI… 1 [SPL… 1 [ALTE… 1 [JA]
 4 5280 [ALLBUS 2… http… 2.0.0 …      4 1 [SIMU… 4 [MAI… 2 [SPL… 2 [NEUE… 1 [JA]
 5 5280 [ALLBUS 2… http… 2.0.0 …      5 1 [SIMU… 4 [MAI… 2 [SPL… 1 [ALTE… 1 [JA]
 6 5280 [ALLBUS 2… http… 2.0.0 …      6 1 [SIMU… 3 [CAW… 2 [SPL… 1 [ALTE… 1 [JA]
 7 5280 [ALLBUS 2… http… 2.0.0 …      7 2 [SEQU… 3 [CAW… 3 [SPL… 1 [ALTE… 1 [JA]
 8 5280 [ALLBUS 2… http… 2.0.0 …      8 1 [SIMU… 4 [MAI… 2 [SPL… 1 [ALTE… 1 [JA]
 9 5280 [ALLBUS 2… http… 2.0.0 …      9 2 [SEQU… 3 [CAW… 3 [SPL… 2 [NEUE… 1 [JA]
10 5280 [ALLBUS 2… http… 2.0.0 …     10 1 [SIMU… 4 [MAI… 2 [SPL… 1 [ALTE… 1 [JA]
# ℹ 5,332 more rows
# ℹ 535 more variables: ep01 &lt;dbl+lbl&gt;, ep03 &lt;dbl+lbl&gt;, ep04 &lt;dbl+lbl&gt;,
#   ep06 &lt;dbl+lbl&gt;, lm01 &lt;dbl+lbl&gt;, lm02 &lt;dbl+lbl&gt;, lm19 &lt;dbl+lbl&gt;,
#   lm20 &lt;dbl+lbl&gt;, lm21 &lt;dbl+lbl&gt;, lm22 &lt;dbl+lbl&gt;, lm14 &lt;dbl+lbl&gt;,
#   xr19 &lt;dbl+lbl&gt;, xr20 &lt;dbl+lbl&gt;, lm27 &lt;dbl+lbl&gt;, lm28 &lt;dbl+lbl&gt;,
#   lm29 &lt;dbl+lbl&gt;, lm30 &lt;dbl+lbl&gt;, lm31 &lt;dbl+lbl&gt;, lm32 &lt;dbl+lbl&gt;,
#   lm33 &lt;dbl+lbl&gt;, lm34 &lt;dbl+lbl&gt;, lm35 &lt;dbl+lbl&gt;, lm36 &lt;dbl+lbl&gt;, …</code></pre>
</div>
</div>
<p>Es wird schnell klar, das weniger die Anzahl der Beobachtungen als vielmehr die Anzahle der Variablen (544) eine Herausforderung darstellt, zumal diese eher kryptische Namen wie <code>hp06</code> haben. Wie sich also zurechfinden?</p>
</section>
<section id="die-variablen-des-allbus" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Die Variablen des ALLBUS</h1>
<p>Zum Glück lassen sich die sog. <em>Labels</em>, also die sprechenden Beschriftungen die sowohl Fragen and auch Antwortoptionen im ALLBUS-Stata-Datensatz haben, mittels R extrahieren (dies geschieht mit dem Paket <code>labelled</code>). Wir haben dies bereits vorbereitend für den ALLBUS gemacht und laden die entsprechenden Tabellen nun nur noch.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>variablen <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">"Datensatz/ALLBUS_2021_variablen.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Using "','" as decimal and "'.'" as grouping mark. Use `read_delim()` for more control.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>variablen_optionen <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">"Datensatz/ALLBUS_2021_variablen_optionen.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Using "','" as decimal and "'.'" as grouping mark. Use `read_delim()` for more control.</code></pre>
</div>
</div>
<p>Es lohnt sich, beide Objekte mittels <code>View()</code> oder durch eine Klick ob die beiden Objekte <em>variablen</em> und <em>variablen_optionen</em> in RStudio anzuschauen. Interessant sind die Felder variable (der Name der Variable im ALLBUS) und label (eine sprechende Beschreibung).</p>
<p>Suchen wir etwa nach <code>hp06</code> finden wie die Label-Beschreibung “EPIDEMIE: STAAT DARF KRANKE ISOLIEREN”, die schon deutlich besser interpretierbar ist als <code>hp06</code>. Eine genaue Dokumentation und (vor allem wichtig) der genaue Fragetext findet sich in den Dokumenten ZA5280_fb_CAWI.pdf (Fragebogen) und ZA5280_cdb.pdf (Variablenreport). Beide sind wie der ALLBUS selbst abgelegt im Ordner Datensatz, werden aber ausserhalb von RStudio geöffnet.</p>
<p>Der Fragebogen reicht normalerweise aus, um sich einen Überblick zu verschaffen, aber der Variablenreport ist dann nützlich, wenn man den Zusammenhang zwischen einem Dummywert (bspw. “4”) und dessen Bedeutung in Verbindung mit einer bestimmten Variable herausfinden möchte. Die Fragen lauter bei <code>hp06</code></p>
<p><em>Und was denken Sie über folgende Maßnahmen: Sollte in Deutschland in Zeiten schwerer Epidemien der Staat das Recht haben, Folgendes zu tun?</em></p>
<p><em>Nachweislich infizierte Personen isolieren</em></p>
<p>Und der Dummy-Wert “4” steht bei dieser Frage für die Antwort <em>Auf keinen Fall</em>.</p>
<p>Wenn man die drei kleinen Zufallssamples mit dem Hauptdatensatz vergleicht, fällt schnell auf, dass die Samples ausschließlich (echte) Zahlenfelder für (vor allem) ordinale Likert-skalierte Variablen enthalten. Bei diesen bedeutet ein höherer Wert i.d.R. mehr Zustimmung oder eine ausgeprägtere Verhaltensausprägung gegenüber geringeren Werten. Es gibt aber auch Fälle in denen diese sog. Polarität der Variablenwerte umgedreht ist und geringe Werte “stärker” sind als hohe, order solche, in denen wir es mit nominalen Skalen zu tun haben, die Zahlen also in keinerlei logischem Zusammenhang stehen.</p>
<p>Was heißt das konkret? Zur Sicherheit sollte man im Rahmen einer eigenen Analyse in den Hauptdatensatz und in die Dokumentatuin schauen um absolut sicher zu sein, dass man keine unzulässigen Umformungen oder Berechnungen vornimmt (und etwa den Mittelwert einer nominalskalierten Variable bestimmt), oder die Ergebnisse misinterpretiert (etwa wenn die Polarität einer Variablen umgedreht codiert wurde). Es gilt immer: <em>know your data</em>.</p>
<p>Zunächst ist es aber vollkommen legetim, um die Variablenliste oder das Befragungsdokument nach interessanten Variablen zu durckforsten. Wir können in der <code>View()</code>-Ansicht des Objekts variable nach Begriffen suchen, die in den Labels vorkommen. Beispielsweise finden wir mit einer Suche nach dem Begriff ‘medien’ die Variablen <code>lm35</code> (Nutzung von sozialen Medien als Nachrichtenquelle) und <code>lm39</code> (Glaubwürdigkeit sozialer Medien mit Blick auf Kriminalität), die uns vielleicht interessieren.</p>
</section>
<section id="bildung-eines-teilsamples" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Bildung eines Teilsamples</h1>
<p>Ein Schritt, der praktisch für alle Studienprojekte im Verlauf des Semesters relevant sein wird, ist die Bildung eines Teildatensatzes, welcher die Variablen (und ggf. Fälle) enthält, die für Ihre Analyse relevant sind.</p>
<p>Technisch gesehen ist das gar nicht unbedingt notwendig – wir können jeder Zeit Berechnungen am Gesamtdatensatz anstellen. Aber oft ist ein Teildatensatz übersichtlicher und ermöglicht ein besseres Verständnis der Daten.</p>
<p>Wie bildet man ein solches Teilsample? Entscheidend ist hier die Funktion <code>select</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>fernsehkonsum <span class="ot">&lt;-</span> daten <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="fu">select</span>(age, sex, lm02)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wir extrahieren hier mittels select drei Variablen, nämlich Alter (<code>age</code>), Geschlecht (<code>sex</code>) und den Fernsehkonsum in Minuten (<code>lm02</code>).</p>
<p>Das Ergegnis ist ein Datensatz, der weiterhin alle 5.342 Fälle, aber nur drei (statt 544) Variablen enthält.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>fernsehkonsum</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,342 × 3
   age       sex       lm02              
   &lt;dbl+lbl&gt; &lt;dbl+lbl&gt; &lt;dbl+lbl&gt;         
 1 54        2 [FRAU]  210               
 2 53        1 [MANN]   90               
 3 89        2 [FRAU]  135               
 4 79        1 [MANN]   60               
 5 62        2 [FRAU]  180               
 6 23        1 [MANN]   45               
 7 31        2 [FRAU]   30               
 8 57        2 [FRAU]   -9 [KEINE ANGABE]
 9 68        1 [MANN]  180               
10 51        2 [FRAU]  180               
# ℹ 5,332 more rows</code></pre>
</div>
</div>
<p>Eine gewisse Komplikation ist allerdings die Tatsache, dass in diesem Ausschnitt die Variablen <code>sex</code> noch eine Dummy-Zahl ist (1 = männlich, 2 = weiblich, 3 = divers) und zudem die Variable <code>lm02</code> negative Werte enthät. Diese zeigen keinen negativen Fernsehkonsum an, sondern werden für Spezialwerte verwendet (“keine Angabe”, “durch Filterbedingung weggefallen”). Als Faustregel gilt: <u><strong>Negative Werte im ALLBUS sollten praktisch immer durch NAs ersetzt werden</strong></u>. Das ist unbedingt von “0” als Wert zu unterscheiden. Mit einer “echten” Null kann ebenso wie mit “echten” Negtivwerten gerechnet werden, dies führt aber zu substantiellen Verzerrungen, wenn es sich um Dummy-Werte handelt.</p>
<p>Der folgenden Codeblock bereinigt die Daten zum Fernsehkomsum. Dazu benennte er die drei Variablen znnächst in transparentere Were um. Anschlißend werden negative Werte in NAs umgewandelt (hier mit der Funktion replace_with_na_all aus dem Paket naniar). Dann wird das Geschlecht faktorisiert, was die Zahlen durch das Label (also MANN / FRAU / DIVERS) ersetzt. Und schließlich werden die Labels und Attribute entfernt, die nun nicht mehr benötigt werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>fernsehkonsum_bereinigt <span class="ot">&lt;-</span> fernsehkonsum <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="#cb30-2"></a>  <span class="fu">rename</span>(<span class="at">alter =</span> age,</span>
<span id="cb30-3"><a href="#cb30-3"></a>         <span class="at">geschlecht =</span> sex,</span>
<span id="cb30-4"><a href="#cb30-4"></a>         <span class="at">fernsehkonsum_minuten =</span> lm02) <span class="sc">%&gt;%</span> </span>
<span id="cb30-5"><a href="#cb30-5"></a>  naniar<span class="sc">::</span><span class="fu">replace_with_na_all</span>(<span class="at">condition =</span> <span class="sc">~</span>.x <span class="sc">&lt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb30-6"><a href="#cb30-6"></a>  <span class="fu">mutate</span>(<span class="at">geschlecht =</span> <span class="fu">as_factor</span>(geschlecht)) <span class="sc">%&gt;%</span> </span>
<span id="cb30-7"><a href="#cb30-7"></a>  labelled<span class="sc">::</span><span class="fu">remove_labels</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-8"><a href="#cb30-8"></a>  labelled<span class="sc">::</span><span class="fu">remove_attributes</span>(<span class="st">"format.stata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>fernsehkonsum_bereinigt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,342 × 3
   alter geschlecht fernsehkonsum_minuten
   &lt;dbl&gt; &lt;fct&gt;                      &lt;dbl&gt;
 1    54 FRAU                         210
 2    53 MANN                          90
 3    89 FRAU                         135
 4    79 MANN                          60
 5    62 FRAU                         180
 6    23 MANN                          45
 7    31 FRAU                          30
 8    57 FRAU                          NA
 9    68 MANN                         180
10    51 FRAU                         180
# ℹ 5,332 more rows</code></pre>
</div>
</div>
</section>
<section id="zusammenfassung" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Zusammenfassung</h1>
<p>Wir sind jetzt in einer guten Position, um mit der praktischen Arbeit am ALLBUS zu beginnnen, also der Analyse und Interpretation konkreter Daten.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left"><strong>Copyright</strong> 2023, <strong>Design by</strong> Katharina Maubach &amp; Patrick Zerrer, <strong>Autor:innen:</strong> Stephanie Geise, Cornelius Puschmann, Hannah Marie Büttner, Michael Linke, Katharina Maubach, Patrick Zerrer</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right"><img src="Bilder/Logo_Stiftung_Hochschullehre_pos.jpg" class="img-fluid" width="120"> <img src="Bilder/Skill_UB_Icons_1_quer__blau.jpeg" class="img-fluid" width="120"></div>
  </div>
</footer>



</body></html>