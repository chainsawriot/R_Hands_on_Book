<<<<<<< HEAD
edg <- get.edgelist(g, names=F)
edge_share <- table(bib[edg])
esp_values <- c(0:20)
fre <- as.vector(edge_share)
alpha <- c(0.01, 0.1, 0.25,0.5, 0.7, 1)
for(i in 1:length(alpha)){
print(alpha[i])
print( (  1-( 1-exp(-alpha[i]) )^esp_values  )*fre )
cat('empirical comparison')
print(edge_share)
cat('\n')
}
# alpha = 0.01 seems best choice
### MODELL 1: network endegenous effects + plus homophily
model.1 <- ergm( net ~ edges  + gwesp(0.01, fixed = T)  +
nodematch('Gender') + nodematch('Mourning') + nodematch('Noble'),
control.ergm=c(seed=1234,MCMCsamplesize=1000)) ## if you have time to kill: try to do it WITHOUT gwesp
summary(model.1)
model.1.gof <- gof(model.1 ~ degree + distance)
plot(model.1.gof)
## "Okish" fit, but seems uninteresting
library(intergraph)
library(igraph)
bib <- bibcoupling(g)
edg <- get.edgelist(g, names=F)
edge_share <- table(bib[edg])
esp_values <- c(0:20)
fre <- as.vector(edge_share)
alpha <- c(0.01, 0.1, 0.25,0.5, 0.7, 1)
for(i in 1:length(alpha)){
print(alpha[i])
print( (  1-( 1-exp(-alpha[i]) )^esp_values  )*fre )
cat('empirical comparison')
print(edge_share)
cat('\n')
}
# alpha = 0.01 seems best choice
### MODELL 1: network endegenous effects + plus homophily
model.1 <- ergm( net ~ edges  + gwesp(0.01, fixed = T)  +
nodematch('Gender') + nodematch('Mourning') + nodematch('Noble'),
control.ergm=c(seed=1234,MCMCsamplesize=1000)) ## if you have time to kill: try to do it WITHOUT gwesp
summary(model.1)
model.1.gof <- gof(model.1 ~ degree + distance)
plot(model.1.gof)
## "Okish" fit, but seems uninteresting
### MODELL 2: network endegenous effects + plus homophily plus popularity
model.2 <- ergm( net ~ edges  + gwesp(0.01, fixed = T) +
nodematch('Gender')  + nodematch('Mourning')+ nodematch('Noble') +
nodecov('Popularity') + nodecov('NumDeath'),
control.ergm=c(seed=1234,MCMCsamplesize=1000))
summary(model.2)
model.2.gof <- gof(model.2 ~ degree + distance)
plot(model.2.gof)
v <- cov[cov$house == '',]
# DELETE those vertices [ATTENTION: vertice index is not dynamic, thus you have to adapt your count value]
for(i in 1:length(rownames(v))){
network::delete.vertices(net, as.numeric(rownames(v)[i]) - (i-1))
}
# check out if it worked
c('Shae') %in% network.vertex.names(net)
c('Robb') %in% network.vertex.names(net)
model.2.select <- ergm( net ~ edges  + gwesp(0.01, fixed = T) +
nodematch('Gender')  + nodematch('Mourning')+ nodematch('Noble') + nodematch('House') +
nodecov('Popularity') + nodecov('NumDeath'),
control.ergm=c(seed=1234,MCMCsamplesize=1000))
summary(model.2.select)
model.2.select.gof <- gof(model.2.select ~ degree + distance)
plot(model.2.select.gof)
library(statnet)
library(foreign)
library(car)
ESS <- read.dta("ESS8.dta")
# Setze einen Paketmirror (CRAN)
# chooseCRANmirror(39)
install.packages("haven", repos = "https://cloud.r-project.org/")
#install.packages("haven")
install.packages("tidyverse")
install.packages("vcd")
library(tidyverse)
library(haven)
library(vcd)
=======
summarise(Mittelwert = mean(pt14, na.rm = T),
Standardabweichung = sd(pt14, na.rm = T)) %>%
kable(digits = 2, col.names = c("Alter", "M", "SD"), caption = "Descriptives Vertrauen")
daten %>%
#  filter(dn01 == 100| dn01 == 200|dn01 == 300|dn01 == 400) %>%
filter(., pt14 > 0) %>%
filter(., lm39 > 0) %>%
group_by(lm39) %>%
summarise(Mittelwert = mean(pt14, na.rm = T),
Standardabweichung = sd(pt14, na.rm = T)) %>%
kable(digits = 2, col.names = c("Alter", "M", "SD"), caption = "Descriptives Vertrauen")
daten %>%
#  filter(dn01 == 100| dn01 == 200|dn01 == 300|dn01 == 400) %>%
filter(., pt08 > 0) %>%
filter(., lm39 > 0) %>%
group_by(lm39) %>%
summarise(Mittelwert = mean(pt08, na.rm = T),
Standardabweichung = sd(pt08, na.rm = T)) %>%
kable(digits = 2, col.names = c("Alter", "M", "SD"), caption = "Descriptives Vertrauen")
daten %>%
#  filter(dn01 == 100| dn01 == 200|dn01 == 300|dn01 == 400) %>%
filter(., pt14 > 0) %>%
filter(., lm39 > 0) %>%
group_by(lm39) %>%
summarise(Mittelwert = mean(pt14, na.rm = T),
Standardabweichung = sd(pt14, na.rm = T)) %>%
kable(digits = 2, col.names = c("Alter", "M", "SD"), caption = "Descriptives Vertrauen")
daten %>%
#  filter(dn01 == 100| dn01 == 200|dn01 == 300|dn01 == 400) %>%
filter(., pt14 > 0) %>%
filter(., pn11 > 0) %>%
group_by(pn11) %>%
summarise(Mittelwert = mean(pt14, na.rm = T),
Standardabweichung = sd(pt14, na.rm = T)) %>%
kable(digits = 2, col.names = c("Alter", "M", "SD"), caption = "Descriptives Vertrauen")
daten %>%
#  filter(dn01 == 100| dn01 == 200|dn01 == 300|dn01 == 400) %>%
filter(., pt15 > 0) %>%
filter(., pn11 > 0) %>%
group_by(pn11) %>%
summarise(Mittelwert = mean(pt15, na.rm = T),
Standardabweichung = sd(pt15, na.rm = T)) %>%
kable(digits = 2, col.names = c("Alter", "M", "SD"), caption = "Descriptives Vertrauen")
daten %>%
#  filter(dn01 == 100| dn01 == 200|dn01 == 300|dn01 == 400) %>%
filter(., pt12 > 0) %>%
filter(., pn11 > 0) %>%
group_by(pn11) %>%
summarise(Mittelwert = mean(pt12, na.rm = T),
Standardabweichung = sd(pt12, na.rm = T)) %>%
kable(digits = 2, col.names = c("Alter", "M", "SD"), caption = "Descriptives Vertrauen")
daten %>%
#  filter(dn01 == 100| dn01 == 200|dn01 == 300|dn01 == 400) %>%
filter(., pt12 > 0) %>%
filter(., pn11 > 0) %>%
group_by(pn11) %>%
summarise(Mittelwert = mean(pt12, na.rm = T),
Standardabweichung = sd(pt12, na.rm = T)) %>%
kable(digits = 2, col.names = c("Alter", "M", "SD"), caption = "Descriptives Vertrauen")
>>>>>>> 310757c20b6e67efcb3cca68a7dc8427760383bc
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
daten <- daten %>%
rename(Konfession = rd01)%>%
filter(between(Konfession, 1, 6))%>%
filter(between(sex, 1, 3))
kreuztabelle <- table(daten$sex, daten$Konfession)
print(kreuztabelle)
library(ggplot2)
daten$Konfession <- as.factor(daten$Konfession)
daten$sex <- as.factor(daten$sex)
ggplot(daten, aes(x = Konfession, fill = sex)) +
geom_bar(position = "fill") +
labs(title = "Verteilung der Konfessionszugehörigkeit nach Geschlecht",
x = "Einkommensgruppe", y = "Anteil") +
scale_fill_manual(values = c("blue", "red", "green")) # Farben anpassen
chisq.test(kreuztabelle)
library(vcd)
cramers_v <- CramerV(kreuztabelle)
# Setze einen Paketmirror (CRAN)
# chooseCRANmirror(39)
install.packages("haven", repos = "https://cloud.r-project.org/")
#install.packages("haven")
install.packages("tidyverse")
install.packages("vcd")
library(tidyverse)
library(haven)
library(vcd)
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
daten <- daten %>%
rename(Konfession = rd01)%>%
filter(between(Konfession, 1, 6))%>%
filter(between(sex, 1, 3))
kreuztabelle <- table(daten$sex, daten$Konfession)
print(kreuztabelle)
library(ggplot2)
daten$Konfession <- as.factor(daten$Konfession)
daten$sex <- as.factor(daten$sex)
ggplot(daten, aes(x = Konfession, fill = sex)) +
geom_bar(position = "fill") +
labs(title = "Verteilung der Konfessionszugehörigkeit nach Geschlecht",
x = "Einkommensgruppe", y = "Anteil") +
scale_fill_manual(values = c("blue", "red", "green")) # Farben anpassen
chisq.test(kreuztabelle)
#library(vcd)
#cramers_v <- CramerV(kreuztabelle)
#print(cramers_v)
# Schritt 1: Extrahieren des beobachteten Chi-Quadrat-Werts
chi_square <- chisq.test(kreuztabelle)$statistic
# Schritt 2: Berechnen der Effektstärke (Cramér's V)
n <- sum(kreuztabelle)  # Gesamtanzahl der Beobachtungen
k <- nrow(kreuztabelle)  # Anzahl der Kategorien in 'sex'
r <- ncol(kreuztabelle)  # Anzahl der Kategorien in 'Konfession'
V <- sqrt(chi_square / (n * min(k-1, r-1)))
# Schritt 3: Ausgabe der beobachteten Chi-Quadrat-Wert und Cramér's V
cat("Beobachteter Chi-Quadrat-Wert:", chi_square, "\n")
cat("Cramér's V:", V, "\n")
daten <- daten %>%
rename(Einkommensgruppe = di02a)%>%
rename(Bildung = educ)%>%
filter(between(Einkommensgruppe, 1, 25))%>%
filter(between(Bildung, 1, 5))
result_spearman <- cor.test(daten$Einkommensgruppe, daten$Bildung, method = "spearman")
print(result_spearman)
result_kendall <- cor.test(daten$Einkommensgruppe, daten$Bildung, method = "kendall")
print(result_kendall)
daten_neu <- daten %>%
filter(between(Einkommensgruppe, 1, 25))%>%
mutate(sex = as.numeric(sex)) %>%
filter(between(sex, 1, 3))
result_spearman <- cor.test(daten_neu$sex, daten_neu$Einkommensgruppe, method = "spearman")
print(result_spearman)
library(ggplot2)
daten_neu$Einkommensgruppe <- as.factor(daten_neu$Einkommensgruppe)
daten_neu$sex <- as.factor(daten$sex)
ggplot(daten_neu, aes(x = Einkommensgruppe, fill = sex)) +
geom_bar(position = "fill") +
labs(title = "Verteilung der Einkommensgruppe nach Geschlecht",
x = "Einkommensgruppe", y = "Anteil") +
scale_fill_manual(values = c("blue", "red", "green")) # Farben anpassen
# Setze einen Paketmirror (CRAN)
# chooseCRANmirror(39)
# install.packages("haven", repos = "https://cloud.r-project.org/")
install.packages("haven")
install.packages("tidyverse")
install.packages("vcd")
library(tidyverse)
library(haven)
library(vcd)
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
# Setze einen Paketmirror (CRAN)
# chooseCRANmirror(39)
# install.packages("haven", repos = "https://cloud.r-project.org/")
install.packages("haven")
install.packages("tidyverse")
install.packages("vcd")
install.packages("devtools")
install.packages("tidyverse")
# Setze einen Paketmirror (CRAN)
# chooseCRANmirror(39)
# install.packages("haven", repos = "https://cloud.r-project.org/")
install.packages("haven")
install.packages("tidyverse")
install.packages("vcd")
install.packages("devtools")
library(tidyverse)
library(haven)
library(vcd)
library(conflicted)
library(dplyr)
conflicts_prefer(dplyr::filter)
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
daten <- daten %>%
rename(Konfession = rd01)%>%
filter(between(Konfession, 1, 6))%>%
filter(between(sex, 1, 3))
kreuztabelle <- table(daten$sex, daten$Konfession)
print(kreuztabelle)
library(ggplot2)
daten$Konfession <- as.factor(daten$Konfession)
daten$sex <- as.factor(daten$sex)
ggplot(daten, aes(x = Konfession, fill = sex)) +
geom_bar(position = "fill") +
labs(title = "Verteilung der Konfessionszugehörigkeit nach Geschlecht",
x = "Einkommensgruppe", y = "Anteil") +
scale_fill_manual(values = c("blue", "red", "green")) # Farben anpassen
# Schritt 1: Extrahieren des beobachteten Chi-Quadrat-Werts
chi_square <- chisq.test(kreuztabelle)$statistic
# Schritt 2: Berechnen der Effektstärke (Cramér's V)
n <- sum(kreuztabelle)  # Gesamtanzahl der Beobachtungen
k <- nrow(kreuztabelle)  # Anzahl der Kategorien in 'sex'
r <- ncol(kreuztabelle)  # Anzahl der Kategorien in 'Konfession'
V <- sqrt(chi_square / (n * min(k-1, r-1)))
# Schritt 3: Ausgabe der beobachteten Chi-Quadrat-Wert und Cramér's V
cat("Beobachteter Chi-Quadrat-Wert:", chi_square, "\n")
cat("Cramér's V:", V, "\n")
daten <- daten %>%
rename(Einkommensgruppe = di02a)%>%
rename(Bildung = educ)%>%
filter(between(Einkommensgruppe, 1, 25))%>%
filter(between(Bildung, 1, 5))
result_spearman <- cor.test(daten$Einkommensgruppe, daten$Bildung, method = "spearman")
print(result_spearman)
result_kendall <- cor.test(daten$Einkommensgruppe, daten$Bildung, method = "kendall")
print(result_kendall)
daten_neu <- daten %>%
filter(between(Einkommensgruppe, 1, 25))%>%
mutate(sex = as.numeric(sex)) %>%
filter(between(sex, 1, 3))
daten_neu <- daten %>%
filter(between(Einkommensgruppe, 1, 25))%>%
mutate(sex = as.numeric(sex)) %>%
filter(between(sex, 1, 3))
kreuztabelle <- table(daten_neu$sex, daten_neu$Einkommensgruppe)
print(kreuztabelle)
kreuztabelle_2 <- table(daten_neu$sex, daten_neu$Einkommensgruppe)
print(kreuztabelle_2)
chisq.test(kreuztabelle_2)
# Schritt 1: Extrahieren des beobachteten Chi-Quadrat-Werts
chi_square <- chisq.test(kreuztabelle_2)$statistic
# Schritt 2: Berechnen der Effektstärke (Cramér's V)
n <- sum(kreuztabelle_2)  # Gesamtanzahl der Beobachtungen
k <- nrow(kreuztabelle_2)  # Anzahl der Kategorien in 'sex'
r <- ncol(kreuztabelle_2)  # Anzahl der Kategorien in 'Konfession'
V <- sqrt(chi_square / (n * min(k-1, r-1)))
# Schritt 3: Ausgabe der beobachteten Chi-Quadrat-Wert und Cramér's V
cat("Beobachteter Chi-Quadrat-Wert:", chi_square, "\n")
cat("Cramér's V:", V, "\n")
library(ggplot2)
daten_neu$Einkommensgruppe <- as.factor(daten_neu$Einkommensgruppe)
daten_neu$sex <- as.factor(daten$sex)
ggplot(daten_neu, aes(x = Einkommensgruppe, fill = sex)) +
geom_bar(position = "fill") +
labs(title = "Verteilung der Einkommensgruppe nach Geschlecht",
x = "Einkommensgruppe", y = "Anteil") +
scale_fill_manual(values = c("blue", "red", "green")) # Farben anpassen
library(ggplot2)
library(ggdist)
library(ggplot2)
install("ggdist")
library(ggplot2)
install.packages("ggdist")
library(ggdist)
# Erzeugen eines Beispiel-Datensatzes
data <- data.frame(Fernsehnutzung = c(2, 3, 4, 5, 6, 7, 8),
Werbespots = c(10, 12, 14, 16, 18, 20, 22))
# Erstellen einer Grafik im Graphic Novel Style
ggplot(data, aes(x = Fernsehnutzung, y = Werbespots)) +
geom_point(aes(color = "Punkte"), size = 3) +
stat_smooth(method = "lm", se = FALSE, color = "black", linetype = "dashed", aes(color = "Regressionsgerade")) +
theme_minimal() +
labs(title = "Fernsehnutzung vs. Anzahl der Werbespots",
x = "Fernsehnutzung (Stunden)",
y = "Anzahl der Werbespots") +
scale_color_manual(values = c("Punkte" = "#0072B2", "Regressionsgerade" = "#D55E00")) +
theme(plot.title = element_text(hjust = 0.5, size = 18, face = "bold"),
axis.title = element_text(size = 14),
legend.position = "bottom") +
guides(color = guide_legend(override.aes = list(size = 4)))
# Speichern der Grafik als Datei (optional)
ggsave("graphic_novel_plot.png", width = 8, height = 6, dpi = 300)
install.packages("haven")
install.packages("tidyverse")
install.packages("vcd")
install.packages("devtools")
library(tidyverse)
library(haven)
library(vcd)
library(conflicted)
library(dplyr)
conflicts_prefer(dplyr::filter)
install.packages("haven")
install.packages("haven")
install.packages("tidyverse")
install.packages("vcd")
install.packages("devtools")
library(tidyverse)
library(haven)
library(vcd)
library(conflicted)
library(dplyr)
conflicts_prefer(dplyr::filter)
install.packages("haven")
install.packages("tidyverse")
install.packages("vcd")
install.packages("devtools")
library(tidyverse)
library(haven)
library(vcd)
library(conflicted)
library(dplyr)
conflicts_prefer(dplyr::filter)
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
install.packages("tidyverse")
daten_neu <- daten %>%
rename(TV_Konsum = lm02)%>%
rename(TV_Vertrauen= pt09)%>%
filter(between(Konfession, 0, 1500))%>%
filter(between(TV_Vertrauen, 1, 7))
install.packages("haven")
install.packages("tidyverse")
install.packages("vcd")
install.packages("devtools")
library(tidyverse)
library(haven)
library(vcd)
library(conflicted)
library(dplyr)
conflicts_prefer(dplyr::filter)
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
daten_neu <- daten %>%
rename(TV_Konsum = lm02)%>%
rename(TV_Vertrauen= pt09)%>%
filter(between(Konfession, 0, 1500))%>%
filter(between(TV_Vertrauen, 1, 7))
daten_neu <- daten %>%
rename(TV_Konsum = lm02)%>%
rename(TV_Vertrauen= pt09)%>%
filter(between(TV_Konsum, 0, 1500))%>%
filter(between(TV_Vertrauen, 1, 7))
korrelation <- daten %>%
summarize(correlation = cor(TV_Konsum, TV_Vertrauen, use = "daten_neu"))
korrelation <- daten %>%
summarize(correlation = cor(TV_Konsum, TV_Vertrauen, use = "complete.obs"))
korrelation <- daten_neu %>%
summarize(correlation = cor(TV_Konsum, TV_Vertrauen, use = "complete.obs"))
# Zeige die Korrelation an
print(korrelation)
korrelation <- daten_neu %>%
summarize(correlation = cor(TV_Konsum, TV_Vertrauen, use = "complete.obs"))
print(korrelation)
scatterplot <- ggplot(daten_neu, aes(x = TV_Konsum, y = TV_Vertrauen)) +
geom_point() +
labs(x = "TV Konsum", y = "TV Vertrauen", title = "Korrelation zwischen TV Konsum und Vertrauen")
print(scatterplot)
scatterplot <- ggplot(daten_neu, aes(x = TV_Konsum, y = TV_Vertrauen)) +
geom_point(color = "blue") +
labs(x = "TV Konsum", y = "TV Vertrauen", title = "Korrelation zwischen TV Konsum und Vertrauen")
print(scatterplot)
install.packages("haven")
install.packages("tidyverse")
install.packages("devtools")
library(tidyverse)
library(haven)
library(conflicted)
library(dplyr)
conflicts_prefer(dplyr::filter)
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
install.packages("tidyverse")
install.packages("haven")
install.packages("tidyverse")
install.packages("devtools")
library(tidyverse)
library(haven)
library(conflicted)
library(dplyr)
conflicts_prefer(dplyr::filter)
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
daten_neu <- daten %>%
rename(TV_Konsum = lm02)%>%
rename(TV_Vertrauen= pt09)%>%
filter(between(TV_Konsum, 0, 1500))%>%
filter(between(TV_Vertrauen, 1, 7))
korrelation <- daten_neu %>%
summarize(correlation = cor(TV_Konsum, TV_Vertrauen, use = "complete.obs"))
print(korrelation)
scatterplot <- ggplot(daten_neu, aes(x = TV_Konsum, y = TV_Vertrauen)) +
geom_point(color = "blue") +
labs(x = "TV Konsum", y = "TV Vertrauen", title = "Korrelation zwischen TV Konsum und Vertrauen")
print(scatterplot)
daten_neu2 <- daten %>%
rename(TV_Konsum = lm02)%>%
rename(Kriminalitätsprognose= cf03)%>%
filter(between(TV_Konsum, 0, 1500))%>%
filter(between(Kriminalitätsprognose, 1, 5))
korrelation <- daten_neu2 %>%
summarize(correlation = cor(TV_Konsum, Kriminalitätsprognose, use = "complete.obs"))
print(korrelation)
scatterplot <- ggplot(daten_neu2, aes(x = TV_Konsum, y = Kriminalitätsprognose)) +
geom_point(color = "red") +
labs(x = "TV Konsum", y = "Kriminalitätsprognose", title = "Korrelation zwischen TV Konsum und Kriminalitätsprognose")
print(scatterplot)
install.packages("tidyverse")
install.packages("broom")
install.packages("lm.beta")
install.packages("performance")
install.packages("tidyverse")
install.packages("broom")
install.packages("lm.beta")
install.packages("performance")
install.packages("see")
install.packages("haven")
library(tidyverse)
library(broom)
library(lm.beta)
library(performance)
library(see)
library(haven)
install.packages("haven")
daten2 <- daten %>%
rename(Nachrichtenrezeption = lm20)%>%
rename(Vertrauen_Bundestag = pt12)%>%
filter(between(Nachrichtenrezeption, 0, 7))%>%
filter(between(Vertrauen_Bundestag, 1, 7))
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
daten2 <- daten %>%
rename(Nachrichtenrezeption = lm20)%>%
rename(Vertrauen_Bundestag = pt12)%>%
filter(between(Nachrichtenrezeption, 0, 7))%>%
filter(between(Vertrauen_Bundestag, 1, 7))
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
daten <- daten %>%
<<<<<<< HEAD
rename(Nachrichtenrezeption = lm20)%>%
rename(Vertrauen_Bundestag = pt12)%>%
filter(between(Nachrichtenrezeption, 0, 7))%>%
filter(between(Vertrauen_Bundestag, 1, 7))
install.packages("tidyverse")
install.packages("broom")
install.packages("lm.beta")
install.packages("performance")
install.packages("see")
install.packages("haven")
intsall.packages("dplyr")
install.packages("haven")
install.packages("tidyverse")
install.packages("broom")
install.packages("lm.beta")
install.packages("performance")
install.packages("see")
install.packages("haven")
install.packages("dplyr")
library(tidyverse)
library(broom)
library(lm.beta)
library(performance)
library(see)
library(haven)
library(dplyr)
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
daten <- daten %>%
rename(Nachrichtenrezeption = lm20)%>%
rename(Vertrauen_Bundestag = pt12)%>%
filter(between(Nachrichtenrezeption, 0, 7))%>%
filter(between(Vertrauen_Bundestag, 1, 7))
install.packages("tidyverse")
install.packages("broom")
install.packages("lm.beta")
install.packages("performance")
install.packages("see")
install.packages("haven")
install.packages("dplyr")
library(tidyverse)
library(broom)
library(lm.beta)
library(performance)
library(see)
library(haven)
library(dplyr)
install.packages("haven")
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
daten <- daten %>%
rename(Nachrichtenrezeption = lm20)%>%
rename(Vertrauen_Bundestag = pt12)%>%
filter(between(Nachrichtenrezeption, 0, 7))%>%
filter(between(Vertrauen_Bundestag, 1, 7))
install.packages("tidyverse")
install.packages("broom")
install.packages("lm.beta")
install.packages("performance")
install.packages("see")
install.packages("haven")
install.packages("dplyr")
library(tidyverse)
library(broom)
library(lm.beta)
library(performance)
library(see)
library(haven)
library(dplyr)
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
=======
filter(., pn11 > 0 & pt14 > 0 & agec > 0) %>%
rename(., stolzd = pn11,
trustpol = pt14) %>%
mutate(stolzd = as.factor(stolzd),
eastwest = as.factor(eastwest),
agec = as.factor(agec),
trustpol = as.numeric(trustpol))
#Histogramm ausgeben
ggplot(daten, aes(trustpol)) +
geom_histogram(aes(y = after_stat(count)),
color = "black", fill = "grey",
binwidth = 1) +
labs(x = "Vertrauen in die Polizei",
y = "")
class(daten$trustpol)
fit <- daten %>%
dplyr::distinct(respid, .keep_all = T) %>%
aov_car(trustpol ~ stolzd + Error(respid), data = ., anova_table = "pes")
print(fit)
fit <- daten %>%
dplyr::distinct(respid, .keep_all = T) %>%
aov_car(trustpol ~ agec + Error(respid), data = ., anova_table = "pes")
print(fit)
#Tamhame T2 Test
daten %>%
aov(trustpol ~ stolzd, data = .) %>%
tamhaneT2Test(.)
#Tukey Post-Hoc Test
emmeans::emmeans(fit, specs = "stolzd") %>%
pairs()
#Tukey Post-Hoc Test
emmeans::emmeans(fit, specs = "stolzd") %>%
pairs()
#Tukey Post-Hoc Test
emmeans::emmeans(fit, specs = stolzd) %>%
pairs()
fit <- daten %>%
dplyr::distinct(respid, .keep_all = T) %>%
aov_car(trustpol ~ stolzd + Error(respid), data = ., anova_table = "pes")
print(fit)
#Tukey Post-Hoc Test
emmeans::emmeans(fit, specs = "stolzd") %>%
pairs()
#Tamhame T2 Test
daten %>%
aov(trustpol ~ stolzd, data = .) %>%
tamhaneT2Test(.)
#Deskriptive Statistiken ausgeben
daten %>%
group_by(stolzd, agec) %>%
summarise(Mittelwert = mean(trustpol, na.rm = T),
Standardabweichung = SD(trustpol, na.rm = T)) %>%
kable(digits = 2, col.names = c("Stolz", "Alter", "M", "SD"), caption = "Descriptives Vertrauen")
#Deskriptive Statistiken ausgeben
daten %>%
group_by(stolzd, eastwest) %>%
summarise(Mittelwert = mean(trustpol, na.rm = T),
Standardabweichung = SD(trustpol, na.rm = T)) %>%
kable(digits = 2, col.names = c("Stolz", "Herkunft", "M", "SD"), caption = "Descriptives Vertrauen")
fit2 <- daten %>%
dplyr::distinct(respid, .keep_all = TRUE) %>%
afex::aov_car(trustpol ~ stolzd * eastwest + Error(respid),
data = ., anova_table = "pes")
print(fit2)
fit2 <- daten %>%
dplyr::distinct(respid, .keep_all = TRUE) %>%
afex::aov_car(trustpol ~ stolzd * agec + Error(respid),
data = ., anova_table = "pes")
fit2 <- daten %>%
dplyr::distinct(respid, .keep_all = TRUE) %>%
afex::aov_car(trustpol ~ stolzd * eastwest + Error(respid),
data = ., anova_table = "pes")
print(fit2)
#Tukey Post-Hoc Test
emmeans::emmeans(fit2, specs = c("stolzd", "eastwest")) %>%
pairs()
#Interaktionsplot ausgeben
emmip(fit2, trustpol ~ stolzd) +
labs(title = "Geschätzes Randmittel von Lebenszufriedenheit",
y = "Geschätzte Randmittel",
x = "Geschlecht")
#Interaktionsplot ausgeben
emmip(fit2, eastwest ~ stolzd) +
labs(title = "Geschätzes Randmittel von Lebenszufriedenheit",
y = "Geschätzte Randmittel",
x = "Geschlecht")
emmip(fit2, stolzd ~ eastwest) +
labs(title = "Geschätzes Randmittel von Lebenszufriedenheit",
y = "Geschätzte Randmittel",
x = "Land")
#Interaktionsplot ausgeben
emmip(fit2, eastwest ~ stolzd) +
labs(title = "Geschätzes Randmittel von Vertrauen in die Polizei",
y = "Geschätzte Randmittel",
x = "Stolz, Deutscher zu sein")
emmip(fit2, stolzd ~ eastwest) +
labs(title = "Geschätzes Randmittel von Vertrauen in die Polizei",
y = "Geschätzte Randmittel",
x = "Herkunft (Ost vs West)")
library(pacman)
p_load(haven,tidyr,dplyr)
daten <- read_dta("Datensatz/Allbus_2021.dta")
htmlTable(fit1)
if(!require("pacman")) {install.packages("pacman");library(pacman)}
p_load(tidyverse, ggplot2, haven, psych, psy, nFactors, htmlTable) # <1>
htmlTable(fit1)
fit1 =  principal(allbus_vertrauen, nfactors = 1, method = "ml", rotate = "varimax") # <1>
daten = haven::read_dta("Datensatz/Allbus_2021.dta") # <1>
theme_set(theme_classic()) # <1>
allbus_vertrauen = daten %>%                                              # <1>
select(pt01:pt20) %>%                                                   # <2>
mutate(across(pt01:pt20, ~ as.numeric(.))) %>%                          # <3>
mutate(across(pt01:pt20, ~ ifelse(.%in% c(-9, -11, -42), NA,.))) %>%    # <4>
na.omit()                                                               # <5>
allbus_vertrauen = allbus_vertrauen %>%
rename(Ver_Gesundheitswesen = pt01, # <1>
Ver_BVerfG = pt02,           # <1>
Ver_Bundestag = pt03,        # <1>
Ver_Verwaltung = pt04,       # <1>
Ver_kath_Kirche = pt06,      # <1>
Ver_evan_Kirche = pt07,      # <1>
Ver_Justiz = pt08,           # <1>
Ver_TV = pt09,               # <1>
Ver_Zeitung = pt10,          # <1>
Ver_Uni = pt11,              # <1>
Ver_Regierung = pt12,        # <1>
Ver_Polizei = pt14,          # <1>
Ver_Parteien = pt15,         # <1>
Ver_Kom_EU = pt19,           # <1>
Ver_EU_Par = pt20)           # <1>
htmlTable(head(allbus_vertrauen))     # <2>
allbus_vertrauen = allbus_vertrauen %>%
mutate(across(Ver_Gesundheitswesen:Ver_EU_Par, ~ ifelse(.%in% c(-9, -11, -42), NA,.))) %>%  # <1>
na.omit()                                                                                   # <2>
fit1 =  principal(allbus_vertrauen, nfactors = 1, method = "ml", rotate = "varimax") # <1>
htmlTable(fit1)
fit1
if(!require("pacman")) {install.packages("pacman");library(pacman)}
p_load(tidyverse, ggplot2, haven, dplyr)
theme_set(theme_classic())
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
allbus_messniveau_bsp = daten %>%
select(sex) %>%  # <1>
mutate(across(c("sex"), ~ as.numeric(.))) %>%                                         # <2>
mutate(across(c("sex"), ~ ifelse(.%in% c(-7, -9, -11, -15, -42, -50 ), NA,.))) %>%    # <3>
na.omit()                                                                             # <4>
if(!require("pacman")) {install.packages("pacman");library(pacman)}
p_load(knitr,car, tidyverse, ggplot2, DescTools, dplyr,afex, emmeans, PMCMRplus, sjmisc)
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
theme_set(theme_classic())
daten = haven::read_dta("Datensatz/Allbus_2021.dta")
theme_set(theme_classic())
daten <- daten %>%
filter(., hs01 > 0 & pt01 > 0 & age > 0) %>%
rename(., gesund = hs01,
trustges = pt01) %>%
mutate(gesund = haven::as_factor(gesund),
trustges = as.numeric(trustges),
agef = dicho(age, as.num = T) %>% factor(levels = c(0,1), labels = c("jung", "alt")))
#Histogramm ausgeben
ggplot(daten, aes(trustges)) +
geom_histogram(aes(y = after_stat(count)),
color = "black", fill = "grey",
binwidth = 1) +
labs(x = "Vertrauen in das Gesundheitswesen",
y = "")
#Lilliefors Kolmogorov-Smirnov-Test
LillieTest(daten$trustges)
#Shapiro-Wilk Test
shapiro.test(daten$trustges)
#Levene-Test für einfaktorielle Varianzanalyse
daten %>%
leveneTest(trustges~gesund, data = ., center = mean) #<1>
#Levene-Test für mehrfaktorielle Varianzanalyse ausgeben
daten %>%
leveneTest(trustges ~ gesund*agef, data = ., center = mean) #<2>
#Levene-Test für einfaktorielle Varianzanalyse
daten %>%
leveneTest(trustges~gesund, data = ., center = mean) #<1>
#Levene-Test für mehrfaktorielle Varianzanalyse ausgeben
daten %>%
leveneTest(trustges ~ gesund*agef, data = ., center = mean) #<2>
daten %>%
group_by(gesund) %>%
summarise(Mittelwert = mean(trustges, na.rm = T),
Standardabweichung = sd(trustges, na.rm = T)) %>%
kable(digits = 2, col.names = c("Gesundheitszustand", "M", "SD"), caption = "Descriptives Vertrauen")
fit <- daten %>%
dplyr::distinct(respid, .keep_all = T) %>%
aov_car(trustges ~ gesund + Error(respid), data = ., anova_table = "pes")
print(fit)
fit <- daten %>%
aov_car(trustges ~ gesund + Error(respid), data = ., anova_table = "pes")
fit <- daten %>%
aov_car(trustges ~ gesund + Error(respid), data = ., anova_table = "pes")
print(fit)
#Tukey Post-Hoc Test
emmeans::emmeans(fit, specs = "gesund") %>%
pairs()
#Tamhame T2 Test
daten %>%
aov(trustges ~ gesund, data = .) %>%
tamhaneT2Test(.)
#Tukey Post-Hoc Test
emmeans::emmeans(fit, specs = "gesund") %>%
pairs()
#Tamhame T2 Test
daten %>%
aov(trustges ~ gesund, data = .) %>%
tamhaneT2Test(.)
#Deskriptive Statistiken ausgeben
daten %>%
group_by(gesund, agef) %>%
summarise(Mittelwert = mean(trustges, na.rm = T),
Standardabweichung = SD(trustges, na.rm = T)) %>%
kable(digits = 2, col.names = c("Gesundheitszustand", "Alter", "M", "SD"), caption = "Descriptives Vertrauen")
fit2 <- daten %>%
afex::aov_car(trustges ~ gesund * agef + Error(respid),
data = ., anova_table = "pes")
print(fit2)
fit2 <- daten %>%
afex::aov_car(trustges ~ gesund * sex + Error(respid),
data = ., anova_table = "pes")
fit2 <- daten %>%
afex::aov_car(trustges ~ gesund * agef + Error(respid),
data = ., anova_table = "pes")
print(fit2)
#Tukey Post-Hoc Test
emmeans::emmeans(fit2, specs = c("gesund", "eastwest")) %>%
pairs()
#Tukey Post-Hoc Test
emmeans::emmeans(fit2, specs = c("gesund", "agef")) %>%
pairs()
#Interaktionsplot ausgeben
emmip(fit2, agef ~ gesund) +
labs(title = "Geschätzes Randmittel von Vertrauen in das Gesundheitswesen",
y = "Geschätzte Randmittel",
x = "Alter der Befragten")
emmip(fit2, gesund ~ agef) +
labs(title = "Geschätzes Randmittel von Vertrauen in das Gesundheitswesen",
y = "Geschätzte Randmittel",
x = "Gesundheitszustand")
>>>>>>> 310757c20b6e67efcb3cca68a7dc8427760383bc
